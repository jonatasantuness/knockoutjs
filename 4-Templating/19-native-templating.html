<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>19. Native Templating</title>
  <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"></script>
</head>

<body>
  <ul data-bind="template: {name: 'categoryTemplate', foreach: categories, as: 'category'}"></ul>

  <script type="text/html" id="categoryTemplate">
    <li>
      <strong data-bind="text: name"></strong>
      <ul data-bind="template: {
        name: 'subcategoryTemplate',
        foreach: subcategories, as: 'subcategory'}">
      </ul>
    </li>
  </script>

  <script type="text/html" id="subcategoryTemplate">
    <li>
      <a data-bind="attr: {href: subcategory}">
        <span data-bind="text: subcategory"></span>
      </a>
    </li>
  </script>

  <script>
    var viewModel = {
      categories: ko.observableArray([
        {
          name: 'Tecnologia',
          subcategories: [
            'Programação',
            'Hardware',
            'Web Development'
          ]
        }, {
          name: 'Business',
          subcategories: [
            'Finanças',
            'Marketing',
            'Ações'
          ]
        }, {
          name: 'Comida',
          subcategories: [
            'Restaurantes',
            'Mercados',
            'Feiras'
          ]
        }, {
          name: 'Construção',
          subcategories: [
            'Demolição',
            'Eletrica',
            'Textura'
          ]
        }
      ])
    }

    ko.applyBindings(viewModel);
  </script>
</body>

</html>
